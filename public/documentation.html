# myFlix REST API
This API provides the users with a list of movies. The users can so have a look on a list of available movies, get all detaild information about a single movie, genre as well as director.
The users can create an account and update or delete their account. they also have the possibility to make a list of their favorite movies or remove from the favorit list. 
It includes 4 general url (users, movies, directors, and genres)

                                                                                                                                                                                                                         
###GET    /movies  
Method: movies.find()   

Description: return a list of all movies  
query parameters: None
Request body: None
Response data: a json representing data of all movies
response example
[
    {
        "Genre": {
            "Name": "action",
            "Description": "an Action story is similar to advanture, and the protagonist usually takes a risky turn."
        },
        "Directors": {
            "Name": "Akira Kurosawa",
            "Bio": "He was a Japanese filmmaker and painter.",
            "BirthYear": 1910,
            "DeathYear": 1998
        },
        "_id": "62006dd9cd43d9efb51cef33",
        "Title": "Seven Samurai",
        "Description": "Seven Samurai is a 1954 Japanese epic samurai drama film",
        "ReleasedYear": 1954,
        "Country": "Japan",
        "ImageUrl": "Seven_Samurai.png",
        "Featured": true,
        "Rating": 4.9
    },
    {
        "Genre": {
            "Name": "Thriller",
            "Description": " A thriller is a story that is usually a mix of fear and excitement."
        },
        "Directors": {
            "Name": "Akira Kurosawa",
            "Bio": "He was a Japanese filmmaker and painter.",
            "BirthYear": 1910,
            "DeathYear": 1998
        },
        "_id": "6200707ccd43d9efb51cef34",
        "Title": "Rashomon",
        "Description": "Rashomon is a 1950 jidaigeki psychological thriller/crime film.",
        "ReleasedYear": 1950,
        "Country": "Japan",
        "ImageUrl": "Rashomon.png",
        "Featured": true,
        "Rating": 4.5
    }
]
--------------------------------------------                                        

###GET    /movies/:title
Method: Movies.findOne({Title: title})

Description: return detailed information about a single movie   
query parameters: title
Request body: None
Response data: a json representing data of selected movie
response example 
{
    "Genre": {
        "Name": "Historical",
        "Description": "A story about a real person or event."
    },
    "Directors": {
        "Name": "Marc Meyers",
        "Bio": "He is an american feature film director and screenwriter.",
        "BirthYear": 1984
    },
    "_id": "620096283a51a1513a3f8acd",
    "Title": "If Only",
    "Description": "It is a romantic fantasy drama film.",
    "ReleasedYear": 2004,
    "Country": "United Kingdom",
    "ImageUrl": "Ifonly.png",
    "Featured": false,
    "Rating": 4.7
}
--------------------------------------------

###GET    /genres/:title
Method: Movies.findOne({'Genre.Name': title})

Description: return the description of desired genre   
query parameters: title 
Request body: None
Response data: a text message including the genreTitle and its description
response example 
Thriller: A thriller is a story that is usually a mix of fear and excitement.
--------------------------------------------

###GET    /directors/:name  
Method: Movies.findOne({'Directors.Name': name})       

Description: return detaild information of desired director    
query parameters: name
Request body: None
Response data: a json representing directors info
response example
{
    "Name": "Marc Meyers",
    "Bio": "He is a very famous american freature film director and screen writer. Sometime he plays also as an actor.",
    "BirthYear": 1984,
    "DeathYear": 2019
}
--------------------------------------------

###POST   /users  
Method: Users.findOne({Username: req.body.Username}) //to check if the user is already exists!
        Users.create({
            Username: req.body.Username,
            Password: req.body.Password,
            Email: req.body.Email,
            Birthday: req.body.Birthday,
            Nationality: req.body.Nationality
        })  // to create the new user and add it to database

Description: allow the user to register   
query parameters: None 
Request body: json 
{
    "Username": Username,
    "Password": Password,
    "Email": Email,
    "Birthday": Birthday,
    "Nationality": Nationality,
    "FavoriteMovies": []
}

request body example 
{
    "Username": "samin",
    "Password": 147,
    "Email": "samin@yahoo.com",
    "Birthday": "2000/08/15",
    "Nationality": "US"
}

Response data: a json of created user including userId as well 
response example
{
    "Username": "samin",
    "Password": "147",
    "Email": "samin@yahoo.com",
    "Birthday": "2000-08-14T22:00:00.000Z",
    "Nationality": "US",
    "FavoriteMovies": [],
    "_id": "62031e7d1f38ee29974a9cfe",
    "__v": 0
}

--------------------------------------------

###PUT    /users/:username
Method: Users.findOneAndUpdate({Username: username}, {$set: 
    {
        Username: updatedInfo.Username,
        Password: updatedInfo.Password,
        Email: updatedInfo.Email,
        Birthday: updatedInfo.Birthday,
        Nationality: updatedInfo.Nationality
    }
},
{new: true}, 
(err, updatedUser) => {
    //add logic
});


Description: allow the user to update personal information       
query parameters: username
Request body: json 
{
    "Username": Username,
    "Password": Password,
    "Email": Email,
    "Birthday": Birthday,
    "Nationality": Nationality,
}
request body example 
{
    "Username": "ali",
    "Password": 741,
    "Email": "samin@yahoo.com",
    "Birthday": "2005/04/29",
    "Nationality": "Norvey"
}
Response data: a json of updated user information
Response example 
{
    "_id": "62031e7d1f38ee29974a9cfe",
    "Username": "ali",
    "Password": "741",
    "Email": "samin@yahoo.com",
    "Birthday": "2005-04-28T22:00:00.000Z",
    "Nationality": "Norvey",
    "FavoriteMovies": [],
    "__v": 0
}
--------------------------------------------

###POST  /users/:username/:movietitle
Method: Movies.findOne({Title: movietitle}) //to extract movieID
        Users.findOneAndUpdate({Username: username}, {
            $push: {FavoriteMovies: movieId}
        }, 
        {new: true},
        (err, updatedUser) => {
            //logic
        });

Description: allow the user to add a movie to his favorite list      
query parameters: username, movietitle
Request body: None
Response data: json including updated infos
response example
{
    "_id": "62031e7d1f38ee29974a9cfe",
    "Username": "ali",
    "Password": "741",
    "Email": "samin@yahoo.com",
    "Birthday": "2005-04-28T22:00:00.000Z",
    "Nationality": "Norvey",
    "FavoriteMovies": [
        "620072cccd43d9efb51cef35"
    ],
    "__v": 0
}
--------------------------------------------

###DELETE  /users/:username/:movietitle
Method: Movies.findOne({Title: movietitle}) //to extract movieID
        Users.findOneAndUpdate({Username: username}, {
            $pull: {FavoriteMovies: movieId}
        }, 
        {new: true},
        (err, updatedUser) => {
            //logic
        });

Description: allow the user to remove a movie from favorite list      
query parameters: username, movietitle
Request body: None
Response data: json including updated infos
response example
{
    "_id": "62031e7d1f38ee29974a9cfe",
    "Username": "ali",
    "Password": "741",
    "Email": "samin@yahoo.com",
    "Birthday": "2005-04-28T22:00:00.000Z",
    "Nationality": "Norvey",
    "FavoriteMovies": [],
    "__v": 0
}
--------------------------------------------

###DELETE /users/:username
Model: Users.findOneAndRemove({Username: username})

Description: allow the user to deregister      
query parameters: username
Request body: None
Response data: a text message announcing either successful deletion or unsuccess
response example 
ali was deleted.







